# 列车长招聘面试评分系统

## 项目概述

这是一个专为铁路列车长岗位招聘设计的在线面试评分系统，支持多评委实时评分、候选人管理、题目展示和结果统计等功能。

## 核心功能

### 1. 评委评分系统 (`/app/judge`)
- **密码验证登录**：支持多名评委独立登录
- **实时滑块评分**：5个维度评分（专业能力、沟通表达、领导能力、应急处理、综合素质）
- **移动端适配**：响应式设计，支持桌面和移动设备

### 2. 管理员控制台 (`/app/admin`)
- **候选人管理**：批量导入、编辑候选人信息
- **面试流程控制**：切换面试环节（开场、提问、评分）
- **题目展示控制**：选择并展示当前题目
- **实时数据监控**：查看评分进度和结果

### 3. 大屏展示系统 (`/app/display`)
- **候选人信息展示**：当前面试者基本信息
- **题目内容展示**：面试题目和计时器
- **评分进度显示**：实时显示评委评分状态

## 技术架构

### 前端技术栈
- **Next.js 15** - React全栈框架
- **TypeScript** - 类型安全
- **Tailwind CSS** - 样式框架
- **Radix UI** - 组件库
- **Server-Sent Events (SSE)** - 实时通信

### 数据管理
- **内存存储** - 使用Map数据结构
- **单例模式** - 全局状态管理
- **事件驱动** - 实时数据同步

## 安装与运行

### 环境要求
- Node.js 18+
- npm 或 yarn

### 安装步骤
```bash
# 克隆项目
git clone <repository-url>
cd trainee-evaluation-system

# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 访问应用
# 管理员控制台: http://localhost:3000/admin
# 评委评分页面: http://localhost:3000/judge
# 大屏展示: http://localhost:3000/display
```

## 使用说明

### 1. 系统初始化

系统启动后会自动加载示例数据，包括：
- **5名评委**：张主任、李经理、王专家、赵组长、陈主管（密码均为123456）
- **5个评分维度**：专业能力(25分)、沟通表达(20分)、领导能力(25分)、应急处理(15分)、综合素质(15分)
- **5名候选人**：刘明、王芳、张强、李娜、陈伟
- **4道面试题目**：专业知识、应急处理、团队管理、服务理念

### 2. 面试流程操作

#### 管理员操作流程：
1. **访问管理员控制台** (`http://localhost:3000/admin`)
2. **候选人管理**：
   - 点击"候选人管理"→"批量导入"
   - 下载CSV模板，按格式填写候选人信息
   - 上传CSV文件批量导入
3. **开始面试**：
   - 选择当前面试的候选人
   - 设置显示环节为"开场"
   - 大屏会显示候选人基本信息
4. **题目展示**：
   - 切换到"提问"环节
   - 选择要展示的题目
   - 大屏显示题目内容和计时器
5. **评分阶段**：
   - 切换到"评分"环节
   - 通知评委开始评分

#### 评委操作流程：
1. **登录评分系统** (`http://localhost:3000/judge`)
2. **输入评委姓名和密码**（如：张主任/123456）
3. **等待面试开始**，系统会显示当前候选人信息
4. **进行评分**：
   - 在每个维度使用滑块调整分数
   - 系统自动保存评分结果
   - 可实时修改评分

#### 大屏展示操作：
1. **打开展示页面** (`http://localhost:3000/display`)
2. **全屏显示**：按F11进入全屏模式
3. **自动同步**：显示内容会根据管理员操作自动更新

### 3. 评分规则

- **维度评分**：每个维度独立评分，满分为该维度的最大分值
- **总分计算**：所有维度分数相加得到单个评委的总分
- **最终评分**：所有评委评分的平均值
- **综合成绩**：面试成绩(50%) + 笔试成绩(30%) + 日常表现(20%)

### 4. 数据管理

#### 候选人数据格式（CSV导入）：
```csv
姓名,编号
张三,TC001
李四,TC002
```

#### 批次配置保存：
- 系统支持保存当前的评委、维度、成绩项目配置
- 可以加载历史配置快速重用设置

## 系统特点

### 1. 实时同步
- 使用Server-Sent Events实现多端实时数据同步
- 评委评分、管理员操作、大屏显示三端联动

### 2. 移动端适配
- 评分界面针对移动设备优化
- 支持触摸滑动评分操作

### 3. 数据持久化
- 支持配置批次保存和加载
- 候选人数据批量导入导出

### 4. 灵活配置
- 评分维度可自定义
- 成绩项目权重可调整
- 评委信息可管理

## 现有问题分析

### 1. 数据存储问题
**问题**：使用内存存储，服务器重启后数据丢失
**影响**：面试过程中如果服务器重启，所有评分数据将丢失
**建议**：集成Redis或数据库进行数据持久化

### 2. 用户认证安全性
**问题**：评委密码采用明文存储和传输
**影响**：存在安全风险，密码可能被泄露
**建议**：实现密码加密存储和JWT认证机制

### 3. 网络连接稳定性
**问题**：SSE连接在网络不稳定时可能中断
**影响**：可能导致实时数据同步失效
**建议**：添加连接重试机制和离线缓存功能

### 4. 大规模并发支持
**问题**：内存存储限制系统并发处理能力
**影响**：多场面试同时进行时可能出现性能问题
**建议**：使用Redis集群和负载均衡提升并发能力

### 5. 数据备份与恢复
**问题**：缺乏数据备份机制
**影响**：无法恢复历史数据或意外丢失的数据
**建议**：实现定时数据备份和导出功能

### 6. 操作日志缺失
**问题**：没有详细的操作日志记录
**影响**：无法追踪评分过程，难以排查问题
**建议**：添加完整的操作日志和审计功能

### 7. 题目管理限制
**问题**：题目内容和管理功能相对简单
**影响**：不支持富文本、图片等复杂题目格式
**建议**：增强题目编辑器，支持多媒体内容

## 技术改进建议

### 1. 架构优化
- 引入Redis作为缓存层
- 使用PostgreSQL作为主数据库
- 实现微服务架构拆分

### 2. 安全增强
- JWT身份认证
- HTTPS加密传输
- 角色权限管理

### 3. 性能优化
- 实现数据懒加载
- 添加CDN加速
- 优化打包体积

### 4. 监控与运维
- 集成应用性能监控(APM)
- 添加健康检查接口
- 实现日志聚合分析

## 部署说明

### 生产环境部署
```bash
# 构建生产版本
npm run build

# 启动生产服务器
npm start
```

### Docker部署
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]
```

## 联系信息

如需技术支持或功能定制，请联系开发团队。

---

*本文档最后更新时间：2025年6月*